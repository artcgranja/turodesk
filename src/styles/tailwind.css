@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --bg-light: #f5f7fb;
    --bg-dark: #0b0b0c;
  }
  html, body, #app {
    height: 100%;
  }
}

@layer components {
  .glass-panel {
    @apply bg-white/60 dark:bg-neutral-900/60 backdrop-blur-md border border-black/10 dark:border-white/10 rounded-xl shadow-lg;
  }
  .chat-container {
    @apply max-w-3xl mx-auto w-full;
  }
  .msg-bubble {
    @apply px-0 py-0 rounded-xl shadow-sm prose prose-slate dark:prose-invert max-w-[72ch] overflow-hidden;
  }
  .msg-user {
    @apply bg-indigo-600 text-white prose-invert px-4 py-3;
  }
  .msg-assistant {
    @apply bg-transparent border-0 shadow-none;
  }
  .code-copy-btn {
    @apply text-xs px-2 py-1 rounded-md bg-slate-200/80 dark:bg-neutral-800/80 hover:bg-slate-200 dark:hover:bg-neutral-700 transition;
  }

  /* Estilo de bloco de código ao estilo GitHub */
  .msg-assistant pre {
    @apply bg-slate-50 dark:bg-neutral-900 border border-black/10 dark:border-white/10 rounded-lg p-4 overflow-auto relative;
  }
  .msg-assistant code:not(pre code) {
    @apply bg-slate-100 dark:bg-neutral-800 rounded-md px-1.5 py-0.5;
  }
  .msg-assistant h1, .msg-assistant h2 {
    @apply pb-1 border-b border-black/10 dark:border-white/10;
  }
  .msg-assistant h1 { @apply text-2xl font-bold; }
  .msg-assistant h2 { @apply text-xl font-bold; }
  .msg-assistant h3 { @apply text-lg font-semibold; }

  /* Placeholder e animações de digitação */
  .assistant-placeholder {
    @apply text-sm italic;
  }
  @keyframes dotPulse {
    0% { opacity: .2; transform: translateY(0); }
    30% { opacity: 1; transform: translateY(-2px); }
    60% { opacity: .2; transform: translateY(0); }
    100% { opacity: .2; }
  }
  .typing-dot {
    width: 4px; height: 4px; display: inline-block; border-radius: 9999px; background-color: currentColor; margin-left: 3px; animation: dotPulse 1.1s infinite;
  }
  .typing-dot:nth-child(2) { animation-delay: .2s; }
  .typing-dot:nth-child(3) { animation-delay: .4s; }
  @keyframes caretBlink {
    0%, 49% { opacity: 1; }
    50%, 100% { opacity: 0; }
  }
  .typing-caret {
    display: inline-block; margin-left: 2px; opacity: .7; animation: caretBlink 1s steps(1, end) infinite;
  }

  /* Wrapper de bloco de código com cabeçalho (estilo GitHub) */
  .msg-assistant .code-block {
    @apply my-3 border border-black/10 dark:border-white/10 rounded-lg overflow-hidden bg-white dark:bg-neutral-900;
  }
  .msg-assistant .code-block-header {
    @apply flex items-center justify-between text-xs px-3 py-1.5 bg-slate-100 dark:bg-neutral-800 border-b border-black/10 dark:border-white/10;
  }
  .msg-assistant .code-title {
    @apply font-medium text-slate-600 dark:text-slate-300 select-none;
  }
  .msg-assistant .code-block-body {
    @apply relative;
  }
  .msg-assistant .code-block-body pre {
    @apply bg-transparent border-0 rounded-none p-3 m-0;
  }
}


